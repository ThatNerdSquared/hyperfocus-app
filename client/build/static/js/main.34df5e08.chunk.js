(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(33),o=n.n(a),r=n(11),c=n.n(r),l=n(18),u=n(34),d=n(35),h=n(36),m=n(2),p=n(39),g=n(38),j=n(0);var O=function(e){var t;return t=!0===e.isRunning?"Pause":"Resume",Object(j.jsx)("div",{className:"startstop",children:Object(j.jsx)("form",{id:e.id,onSubmit:e.toggleRunning,children:Object(j.jsx)("button",{className:"startstop-button",children:t})})})};var b=function(e){return Object(j.jsxs)("div",{className:"single-option",children:[Object(j.jsx)("form",{name:e.time,id:e.id,onSubmit:e.startTimer,children:Object(j.jsx)("button",{className:"option-button",children:e.time})}),Object(j.jsx)("form",{name:e.time,id:e.id,onSubmit:e.handleDeleteOption,children:Object(j.jsx)("button",{className:"option-delete",children:"Delete"})})]})};var f=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:e.handleAddOption,className:"addOption-form",children:[Object(j.jsx)("input",{type:"text",value:e.newOption,name:"newOption",placeholder:"Add another option... ",onChange:e.formChange,className:"addOption-input"}),Object(j.jsx)("button",{className:"addOption-button",children:"Add"})]})})};var v=function(e){var t=e.timerOptions.map((function(t){return Object(j.jsx)(b,{startTimer:e.startTimer,id:e.id,time:t,handleDeleteOption:e.handleDeleteOption})}));return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(O,{id:e.id,toggleRunning:e.toggleRunning,isRunning:e.isRunning}),Object(j.jsx)("div",{className:"options",children:t}),Object(j.jsx)(f,{newOption:e.newOption,formChange:e.formChange,handleAddOption:e.handleAddOption})]})},x=n(37);var N=function(e){return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("h1",{className:"login-text",children:"Welcome to Hyperfocus!"}),Object(j.jsx)("h1",{className:"login-text",children:"What's your name?"}),Object(j.jsxs)("form",{className:"login-form",onSubmit:e.logMeIn,children:[Object(j.jsx)("input",{type:"text",value:e.loginName,name:"loginName",placeholder:"i.e. ThatNerd",onChange:e.formChange,className:"login-input"}),Object(j.jsx)("button",{className:"login-input",children:"Login/Join"})]}),Object(j.jsx)("p",{className:"login-text",children:"This is only used to show other participants who you are."}),Object(j.jsx)("p",{className:"login-text",children:"More advanced room features and login options coming soon!"})]})};var S=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:e.username})})};var w=function(e){var t=[];return e.users.forEach((function(e){if(!0===e.isOnline)return t.push(Object(j.jsx)(S,{username:e.name}))})),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Participants"}),t]})};var k=n.n(x)()(),y=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={timerStatus:{id:27,minutes:10101,seconds:42,pom:!1,isRunning:!1,isIntervalSet:!1,timerOptions:[],participants:[]},users:[],isLoggedIn:!1,newOption:"",loginName:"",currentUser:{name:"Guest",totalPomsToday:0,isOnline:!0}},i.startTimer=i.startTimer.bind(Object(m.a)(i)),i.toggleRunning=i.toggleRunning.bind(Object(m.a)(i)),i.handleNewStatus=i.handleNewStatus.bind(Object(m.a)(i)),i.formChange=i.formChange.bind(Object(m.a)(i)),i.handleAddOption=i.handleAddOption.bind(Object(m.a)(i)),i.logMeIn=i.logMeIn.bind(Object(m.a)(i)),i.logMeOut=i.logMeOut.bind(Object(m.a)(i)),i.setupBeforeUnloadListener=i.setupBeforeUnloadListener.bind(Object(m.a)(i)),i}return Object(h.a)(n,[{key:"formChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(u.a)({},t,n))}},{key:"startTimer",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,i,s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.name,i=t.target.id,s=this.state.timerStatus.pom,a={id:i,minutes:n,pom:s},k.emit("startTimer",a),k.emit("beginTickTock",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupBeforeUnloadListener",value:function(){var e=this;window.addEventListener("beforeunload",(function(t){return t.preventDefault(),e.logMeOut()}))}},{key:"componentDidMount",value:function(){this.setState({isLoggedIn:!1})}},{key:"logMeIn",value:function(e){e.preventDefault(),k.emit("join",this.state.loginName),this.setupBeforeUnloadListener(),k.on("connectionData",this.handleNewStatus),k.on("timerStarted",this.handleNewStatus),k.on("timerToggled",this.handleNewStatus),k.on("timerGoTickTock",this.handleNewStatus),k.on("optionAdded",this.handleNewStatus),k.on("optionDeleted",this.handleNewStatus),k.on("userLoggedOut",this.handleNewStatus),k.on("private",this.handleNewStatus),"Notification"in window?console.log("Notifications are supported"):console.log("This browser does not support desktop notification")}},{key:"logMeOut",value:function(){k.emit("logMeOut",this.state.currentUser)}},{key:"handleNewStatus",value:function(e){if(null!=e.timerStatus){var t=e.timerStatus[0];this.setState({timerStatus:t})}if(!0===e.pomDone&&alert("Your work session has finished!"),null!=e.users){var n=e.users;this.setState({users:n})}if(null!=e.currentUser){var i=e.currentUser;this.setState({currentUser:i})}!0===e.isLoggedIn&&this.setState({isLoggedIn:!0})}},{key:"handleAddOption",value:function(e){e.preventDefault();var t=this.state.timerStatus.id,n=this.state.newOption,i={id:t,option:parseInt(n)};k.emit("addOption",i),this.setState({newOption:""})}},{key:"handleDeleteOption",value:function(e){e.preventDefault(),console.log(e);var t={id:e.target.id,option:e.target.name};k.emit("deleteOption",t)}},{key:"toggleRunning",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=!0!==this.state.timerStatus.isRunning,i=t.target.id,s={id:i,isRunning:n},k.emit("toggleTimer",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoggedIn){function e(e){return Math.max(Math.floor(Math.log10(Math.abs(e))),0)+1}var t,n,i,s=this.state.timerStatus;return t=e(s.minutes)<=1?"0".concat(s.minutes):s.minutes,n=e(s.seconds)<=1?"0".concat(s.seconds):s.seconds,!0===this.state.timerStatus.isRunning?"In Progress":"Paused",i=!0===this.state.timerStatus.pom?"Work Session":"Break Time",Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h1",{children:i})}),Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h1",{children:"".concat(t,":").concat(n)})}),Object(j.jsxs)("div",{className:"panes",children:[Object(j.jsx)("div",{children:Object(j.jsx)(v,{timerOptions:s.timerOptions,id:s.id,startTimer:this.startTimer,toggleRunning:this.toggleRunning,formChange:this.formChange,newOption:this.state.newOption,handleAddOption:this.handleAddOption,handleDeleteOption:this.handleDeleteOption,isRunning:this.state.timerStatus.isRunning})}),Object(j.jsx)("div",{children:Object(j.jsx)(w,{users:this.state.users})})]})]})}return Object(j.jsx)("div",{children:Object(j.jsx)(N,{logMeIn:this.logMeIn,formChange:this.formChange,loginName:this.state.loginName})})}}]),n}(s.a.Component);n(77);o.a.render(Object(j.jsx)(y,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.34df5e08.chunk.js.map